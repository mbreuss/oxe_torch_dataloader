_recursive_: false

defaults:
  - transforms: oxe_no_remapping  # oxe_to_calvin
  - language_encoders: clip  # clip # no_encoder

DATA_NAME: MO  # libero_all # simpler_env # joint_mix # real_kitchen_mix # bridge # rtx
DATA_PATH: gs://gresearch/robotics
load_camera_views: ["primary"]  # Simplified to just primary view for better compatibility
# dataset_size_limit: 1000
action_proprio_normalization_type: bounds

interleaved_dataset_cfg:
  shuffle_buffer_size: 10000
  balance_weights: True
  
  traj_transform_kwargs:
    goal_relabeling_strategy: null
    goal_relabeling_kwargs:
      min_bound: 20
      max_bound: 50
      frame_diff: 3
    window_size: 1
    action_horizon: 10
    skip_unlabeled: True

  frame_transform_kwargs:
    image_augment_kwargs:
      "primary":
        random_resized_crop:
          scale: [0.8, 1.0]
          ratio: [0.9, 1.1]
        random_brightness: [0.1]
        random_contrast: [0.9, 1.1]
        random_saturation: [0.9, 1.1]
        random_hue: [0.05]
        augment_order: [
          "random_resized_crop",
          "random_brightness",
          "random_contrast",
          "random_saturation",
          "random_hue",
        ]
      # Keep secondary and wrist configs but they'll only be used when those views are available
      "secondary":
        random_resized_crop:
          scale: [0.8, 1.0]
          ratio: [0.9, 1.1]
        random_brightness: [0.1]
        random_contrast: [0.9, 1.1]
        random_saturation: [0.9, 1.1]
        random_hue: [0.05]
        augment_order: [
          "random_resized_crop",
          "random_brightness",
          "random_contrast",
          "random_saturation",
          "random_hue",
        ]
      "wrist":
        random_brightness: [0.1]
        random_contrast: [0.9, 1.1]
        random_saturation: [0.9, 1.1]
        random_hue: [0.05]
        augment_order: [
          "random_brightness",
          "random_contrast",
          "random_saturation",
          "random_hue",
        ]
    
    resize_size:
      primary: [224, 224]
      secondary: [224, 224]
      wrist: [128, 128]
    
    resize_size_future_obs:
      primary: [112, 112]
      secondary: [112, 112]
      wrist: [128, 128]
    
    num_parallel_calls: 64

  traj_transform_threads: 16
  traj_read_threads: 32